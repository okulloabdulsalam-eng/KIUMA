<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Donate - Support KIUMA</title>
    <link rel="stylesheet" href="css/style.css">`n    <link rel="stylesheet" href="css/app-mode.css">
    <script src="https://checkout.flutterwave.com/v3.js"></script>
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="logo"><img src="logo.png" height="40" width="40">KIUMA</a>
            <button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false">‚ò∞</button>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="values.html">Values</a></li>
                <li><a href="programs.html">Programs</a></li>
                <li><a href="activities.html">Activities</a></li>
                <li><a href="events.html">Events</a></li>
                <li><a href="leadership.html">Leadership</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="media.html">Media</a></li>
                <li><a href="ask-question.html" title="Ask Question">Ask Question</a></li>
                <li><a href="ask-question.html#program-enrollment" title="Join Programs">Join Programs</a></li>
                <li><a href="notifications.html">Notifications</a></li>
                <li class="dropdown">
                    <a href="pay.html" class="dropdown-toggle">Pay <span style="font-size: 0.8em;">‚ñº</span></a>
                    <ul class="dropdown-menu">
                        <li><a href="pay.html#semester">Semester Subscription</a></li>
                        <li><a href="pay.html#monthly">Monthly Subscription</a></li>
                        <li><a href="pay.html#zakat">Zakat</a></li>
                        <li><a href="pay.html#charity">Charity</a></li>
                        <li><a href="donate.html">Donate</a></li>
                    </ul>
                </li>
                <li><a href="join.html" class="btn btn-primary" style="padding: 0.5rem 1rem;">Join Us</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero" style="padding: 3rem 2rem;">
        <div class="container">
            <h1 style="color: white; text-align: center;">Support KIUMA</h1>
            <p style="color: white; text-align: center; font-size: 1.2rem; margin-top: 1rem;">Your contribution helps us serve the community</p>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <div class="card">
                <h2 style="text-align: center;">Why Donate?</h2>
                <p style="text-align: center; margin-bottom: 2rem;">Your generous donations help KIUMA continue its mission of providing Islamic education, organizing community activities, and supporting students in their spiritual journey.</p>
                
                <div class="card-grid" style="margin-top: 2rem;">
                    <div class="card">
                        <div class="card-icon">üìö</div>
                        <h3>Educational Programs</h3>
                        <p>Support our Quran memorization classes, Islamic studies programs, and educational seminars.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">üíö</div>
                        <h3>Charity Activities</h3>
                        <p>Help us organize food distribution, orphan support, and other charitable initiatives.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">üéâ</div>
                        <h3>Community Events</h3>
                        <p>Fund our events, gatherings, and activities that bring the community together.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">üè´</div>
                        <h3>Infrastructure</h3>
                        <p>Support the maintenance and improvement of our facilities and resources.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Support Causes Section -->
    <section class="section" style="background-color: #f8f9fa;">
        <div class="container">
            <div class="section-title">
                <h2>Support Our Causes</h2>
                <p>Contribute to specific initiatives that make a difference</p>
            </div>

            <div class="card-grid">
                <div class="card" style="text-align: center;">
                    <div class="card-icon" style="font-size: 3rem; margin-bottom: 1rem;">ü§≤</div>
                    <h3>Orphans</h3>
                    <p>Support orphaned children with education, food, clothing, and care. Help provide them with a better future.</p>
                </div>

                <div class="card" style="text-align: center;">
                    <div class="card-icon" style="font-size: 3rem; margin-bottom: 1rem;">üïå</div>
                    <h3>Mosque Building</h3>
                    <p>Contribute to the construction and maintenance of mosques and Islamic centers for the community.</p>
                </div>

                <div class="card" style="text-align: center;">
                    <div class="card-icon" style="font-size: 3rem; margin-bottom: 1rem;">üéì</div>
                    <h3>Student Sponsorships</h3>
                    <p>Help sponsor students' education, covering tuition fees, books, and educational materials.</p>
                </div>

                <div class="card" style="text-align: center;">
                    <div class="card-icon" style="font-size: 3rem; margin-bottom: 1rem;">üìñ</div>
                    <h3>Dawah Programs</h3>
                    <p>Support Islamic outreach programs, educational seminars, and community awareness initiatives.</p>
                </div>
            </div>

            <div class="card" style="margin-top: 2rem; background: linear-gradient(135deg, rgba(13, 125, 61, 0.1) 0%, rgba(212, 175, 55, 0.1) 100%); border: 2px solid var(--islamic-green);">
                <div style="text-align: center; padding: 1.5rem;">
                    <h3 style="color: var(--islamic-green); margin-bottom: 1rem;">üìû Contact Amir Finance</h3>
                    <p style="margin-bottom: 1rem; color: var(--text-dark);">
                        To support any of these causes, please contact our Finance Director:
                    </p>
                    <div style="display: flex; gap: 2rem; justify-content: center; flex-wrap: wrap; margin-top: 1.5rem;">
                        <div>
                            <p style="font-weight: 600; color: var(--islamic-green); margin-bottom: 0.5rem;">Phone:</p>
                            <p style="font-size: 1.1rem; color: var(--text-dark);">+256 XXX XXX XXX</p>
                            <small style="color: var(--text-light);">(Will be updated soon)</small>
                        </div>
                        <div>
                            <p style="font-weight: 600; color: var(--islamic-green); margin-bottom: 0.5rem;">WhatsApp:</p>
                            <p style="font-size: 1.1rem; color: var(--text-dark);">Coming Soon</p>
                            <small style="color: var(--text-light);">(Will be added soon)</small>
                        </div>
                    </div>
                    <div style="background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%); padding: 1.5rem; border-radius: 10px; margin-top: 1.5rem; border: 3px solid var(--islamic-green); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);">
                        <div style="text-align: center;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚ö†Ô∏è</div>
                            <h4 style="color: var(--islamic-green-dark); font-weight: 700; font-size: 1.2rem; margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px;">
                                Important Notice
                            </h4>
                            <p style="color: var(--text-dark); font-weight: 700; font-size: 1.1rem; line-height: 1.6; margin: 0;">
                                Please mention which cause you'd like to support when contacting.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <div class="section-title">
                <h2>Payment Methods</h2>
            </div>

            <!-- Manual Payment Methods - Encouraged -->
            <div style="margin-bottom: 2rem;">
                <div style="text-align: center; margin-bottom: 1rem;">
                    <h4 style="color: var(--islamic-green); margin-bottom: 0.5rem;">üìû Manual Payment</h4>
                    <span class="badge" style="background: var(--gold); color: var(--text-dark); font-size: 0.85rem; padding: 0.3rem 0.8rem; border-radius: 5px; font-weight: 600;">RECOMMENDED</span>
                </div>
                <div class="card-grid">
                    <div class="card" style="text-align: center; border: 2px solid var(--gold);">
                        <h4>üì± Mobile Money</h4>
                        <p style="margin: 0.75rem 0;"><strong>MTN:</strong> +256 XXX XXX XXX</p>
                        <p style="margin: 0.75rem 0;"><strong>Airtel:</strong> +256 XXX XXX XXX</p>
                        <p style="margin-top: 0.75rem; font-size: 0.9rem; color: var(--text-light);">Send payment and include reference</p>
                    </div>
                    <div class="card" style="text-align: center; border: 2px solid var(--gold);">
                        <h4>üè¶ Bank Transfer</h4>
                        <p style="margin: 0.75rem 0;"><strong>Account:</strong> KIUMA</p>
                        <p style="margin: 0.75rem 0;"><strong>Number:</strong> XXXX XXXX XXXX</p>
                        <p style="margin-top: 0.75rem; font-size: 0.9rem; color: var(--text-light);">Include your name in reference</p>
                    </div>
                </div>
                <div style="background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%); padding: 1.5rem; border-radius: 10px; margin-top: 1.5rem; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); border: 3px solid var(--islamic-green);">
                    <div style="text-align: center;">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚ö†Ô∏è</div>
                        <h4 style="color: var(--islamic-green-dark); font-weight: 700; font-size: 1.2rem; margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px;">
                            Important Notice
                        </h4>
                        <p style="color: var(--text-dark); font-weight: 600; font-size: 1.1rem; line-height: 1.6; margin: 0;">
                            After payment, please contact us with your transaction reference for confirmation.
                        </p>
                        <p style="color: var(--islamic-green-dark); font-weight: 600; font-size: 0.95rem; margin-top: 0.75rem; margin-bottom: 0;">
                            üìû Contact: <a href="contact.html" style="color: var(--islamic-green-dark); text-decoration: underline; font-weight: 700;">Click here to contact us</a>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Flutterwave Payment Section - Alternative -->
            <div style="margin-top: 2rem; padding-top: 2rem; border-top: 2px solid rgba(13, 125, 61, 0.2);">
                <h4 style="text-align: center; margin-bottom: 1.5rem; color: var(--text-light); font-weight: normal;">üí≥ Alternative: Pay with Flutterwave</h4>
                <div class="card-grid">
                    <div class="card" style="text-align: center;">
                        <h4>üì± MTN Mobile Money</h4>
                        <p style="margin: 1rem 0; font-size: 0.9rem;">Pay securely via MTN Mobile Money</p>
                        <button type="button" class="btn btn-outline" onclick="payWithFlutterwave('mtn')" style="width: 100%; margin-top: 1rem;">
                            Pay with MTN
                        </button>
                    </div>
                    <div class="card" style="text-align: center;">
                        <h4>üì± Airtel Mobile Money</h4>
                        <p style="margin: 1rem 0; font-size: 0.9rem;">Pay securely via Airtel Money</p>
                        <button type="button" class="btn btn-outline" onclick="payWithFlutterwave('airtel')" style="width: 100%; margin-top: 1rem;">
                            Pay with Airtel
                        </button>
                    </div>
                    <div class="card" style="text-align: center;">
                        <h4>üè¶ Bank Transfer</h4>
                        <p style="margin: 1rem 0; font-size: 0.9rem;">Pay via bank transfer</p>
                        <button type="button" class="btn btn-outline" onclick="payWithFlutterwave('bank')" style="width: 100%; margin-top: 1rem;">
                            Pay via Bank
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <div class="form-container">
                <h2 style="text-align: center; margin-bottom: 2rem;">Donation Form</h2>
                <p style="text-align: center; margin-bottom: 2rem; color: var(--text-light);">Fill out this form to help us track your donation and send you a receipt.</p>
                
                <form id="donation-form">
                    <div class="form-group">
                        <label for="donor-name">Your Name *</label>
                        <input type="text" id="donor-name" name="donor-name" required placeholder="Enter your full name">
                    </div>

                    <div class="form-group">
                        <label for="donor-email">Email Address *</label>
                        <input type="email" id="donor-email" name="donor-email" required placeholder="your.email@example.com">
                    </div>

                    <div class="form-group">
                        <label for="donor-phone">Phone Number</label>
                        <input type="tel" id="donor-phone" name="donor-phone" placeholder="+256 XXX XXX XXX">
                    </div>

                    <div class="form-group">
                        <label>Donation Amount (UGX)</label>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 0.5rem; margin-top: 0.5rem;">
                            <button type="button" class="donation-amount btn btn-outline" data-amount="50000">50,000</button>
                            <button type="button" class="donation-amount btn btn-outline" data-amount="100000">100,000</button>
                            <button type="button" class="donation-amount btn btn-outline" data-amount="200000">200,000</button>
                            <button type="button" class="donation-amount btn btn-outline" data-amount="500000">500,000</button>
                        </div>
                        <input type="number" id="donation-amount" name="donation-amount" placeholder="Or enter custom amount" style="margin-top: 0.5rem;">
                    </div>

                    <div class="form-group">
                        <label for="donation-method">Payment Method *</label>
                        <select id="donation-method" name="donation-method" required>
                            <option value="">Select payment method</option>
                            <option value="mtn">MTN Mobile Money</option>
                            <option value="airtel">Airtel Money</option>
                            <option value="bank">Bank Transfer</option>
                            <option value="cash">Cash</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="donation-message" style="font-weight: 600; color: var(--text-dark); margin-bottom: 0.75rem; display: block;">Message (Optional)</label>
                        <textarea 
                            id="donation-message" 
                            name="donation-message" 
                            rows="4" 
                            placeholder="Any special instructions or messages..."
                            style="width: 100%; padding: 1rem; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1rem; font-family: inherit; transition: border-color 0.3s ease, box-shadow 0.3s ease; resize: vertical; min-height: 100px; background-color: #fafafa;">
                        </textarea>
                    </div>

                    <div class="form-group" style="margin-top: 2rem; padding: 1.5rem; background: linear-gradient(135deg, rgba(13, 125, 61, 0.05) 0%, rgba(212, 175, 55, 0.05) 100%); border: 2px solid rgba(13, 125, 61, 0.2); border-radius: 10px;">
                        <label style="display: flex; align-items: flex-start; font-weight: normal; cursor: pointer; gap: 0.75rem;">
                            <input 
                                type="checkbox" 
                                required 
                                style="
                                    margin-top: 0.25rem;
                                    width: 20px;
                                    height: 20px;
                                    cursor: pointer;
                                    accent-color: var(--islamic-green);
                                    flex-shrink: 0;
                                ">
                            <span style="color: var(--text-dark); line-height: 1.6; font-size: 0.95rem;">
                                I confirm that this donation is made voluntarily and with the intention of seeking Allah's pleasure. 
                                <span style="color: var(--islamic-green); font-weight: 600;">*</span>
                            </span>
                        </label>
                    </div>

                    <div style="text-align: center; margin-top: 2.5rem;">
                        <button 
                            type="submit" 
                            class="btn btn-primary" 
                            style="
                                width: 100%; 
                                max-width: 500px;
                                font-size: 1.15rem; 
                                padding: 1.15rem 2rem; 
                                font-weight: 600;
                                background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
                                border: none;
                                box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
                                transition: all 0.3s ease;
                            "
                            onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(212, 175, 55, 0.4)';"
                            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(212, 175, 55, 0.3)';"
                        >
                            Submit Donation Information
                        </button>
                    </div>
                </form>

                <div style="margin-top: 2rem; padding: 1rem; background-color: rgba(13, 125, 61, 0.1); border-radius: 5px;">
                    <p style="font-size: 0.9rem; color: var(--text-dark); text-align: center;">
                        <strong>Note:</strong> After submitting this form, please complete your donation using one of the payment methods above. We will send you a confirmation receipt once we receive your donation.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="section" style="background-color: #f8f9fa;">
        <div class="container">
            <div class="card">
                <h2 style="text-align: center;">Barakallahu Feekum</h2>
                <p style="text-align: center; font-size: 1.1rem; margin-bottom: 1rem;">May Allah reward you abundantly for your generosity and support.</p>
                <p style="text-align: center; font-style: italic; color: var(--islamic-green);">
                    "The example of those who spend their wealth in the way of Allah is like a seed which grows seven spikes; in each spike is a hundred grains. And Allah multiplies for whom He wills." (Quran 2:261)
                </p>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>KIUMA</h3>
                <p>Kampala International University Muslim Association</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="programs.html">Programs</a></li>
                    <li><a href="events.html">Events</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Resources</h3>
                <ul>
                    <li><a href="downloads.html">Downloads</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="weekly-teachings.html">Weekly Teachings</a></li>
                    <li><a href="media.html">Media</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Get Involved</h3>
                <ul>
                    <li><a href="join.html">Join KIUMA</a></li>
                    <li><a href="pay.html">Pay & Subscribe</a></li>
                    <li><a href="pay.html#semester">Semester Subscription</a></li>
                    <li><a href="pay.html#monthly">Monthly Subscription</a></li>
                    <li><a href="pay.html#charity">Charity</a></li>
                    <li><a href="donate.html">Donate</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p style="color: rgba(255, 255, 255, 0.9);">&copy; 2025 KIUMA - Kampala International University Muslim Association. All rights reserved.</p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem; color: rgba(255, 255, 255, 0.8);">
                <strong>Web Design by</strong> <a href="contact.html" style="color: var(--gold); text-decoration: none; font-weight: 600;">ok</a> | 
                <strong>Need a website?</strong> <a href="contact.html" style="color: #8B4513; text-decoration: none;">Contact me</a>
            </p>
        </div>
    </footer>

    <script src="js/main.js"></script>`n    <script src="js/webview-app.js"></script>
    <script>
        // Store payment details globally
        let currentPaymentDetails = {
            amount: 0,
            type: 'donation',
            purpose: 'donation'
        };

        // Flutterwave Payment Function
        function payWithFlutterwave(paymentMethod, amount = null) {
            // Get amount from form or use provided amount
            if (!amount) {
                const donationAmount = document.getElementById('donation-amount');
                if (donationAmount && donationAmount.value) {
                    amount = parseFloat(donationAmount.value);
                } else {
                    alert('Please enter a donation amount first.');
                    return;
                }
            }
            
            if (!amount || amount <= 0) {
                alert('Please enter a valid donation amount first.');
                return;
            }

            // Get customer details from form
            const name = document.getElementById('donor-name')?.value || 'KIUMA Donor';
            const email = document.getElementById('donor-email')?.value || 'donor@example.com';
            const phone = document.getElementById('donor-phone')?.value || '';
            const purpose = document.getElementById('donation-method')?.value || 'donation';

            // Determine payment method code for Flutterwave
            let paymentMethodCode = '';
            switch(paymentMethod) {
                case 'mtn':
                    paymentMethodCode = 'mobilemoneyuganda';
                    break;
                case 'airtel':
                    paymentMethodCode = 'mobilemoneyuganda';
                    break;
                case 'bank':
                    paymentMethodCode = 'account';
                    break;
                default:
                    paymentMethodCode = '';
            }

        // Flutterwave payment configuration
        // Check if public key is configured
        const FLUTTERWAVE_PUBLIC_KEY = "YOUR_FLUTTERWAVE_PUBLIC_KEY"; // ‚ö†Ô∏è REPLACE THIS WITH YOUR ACTUAL KEY from https://dashboard.flutterwave.com/
        
        if (FLUTTERWAVE_PUBLIC_KEY === "YOUR_FLUTTERWAVE_PUBLIC_KEY" || !FLUTTERWAVE_PUBLIC_KEY) {
            alert('‚ö†Ô∏è Flutterwave Public Key not configured!\n\nPlease add your Flutterwave Public Key in the script section.\n\nGet your key from: https://dashboard.flutterwave.com/');
            return;
        }

        FlutterwaveCheckout({
            public_key: FLUTTERWAVE_PUBLIC_KEY,
                tx_ref: "KIUMA-DONATION-" + Date.now(),
                amount: amount,
                currency: "UGX",
                payment_options: paymentMethodCode,
                customer: {
                    email: email,
                    phone_number: phone,
                    name: name,
                },
                customizations: {
                    title: "KIUMA Donation",
                    description: `Donation to KIUMA - ${purpose}`,
                    logo: "https://your-domain.com/logo.png", // Add your logo URL
                },
                callback: function (data) {
                    // Payment successful
                    console.log('Payment successful:', data);
                    alert('Payment successful! Thank you for your donation. Transaction ID: ' + data.tx_ref);
                    
                    // You can send this data to your server for verification
                    // verifyPayment(data);
                },
                onclose: function() {
                    // Payment modal closed
                    console.log('Payment modal closed');
                },
                meta: {
                    purpose: 'donation',
                    payment_type: paymentMethod
                }
            });
        }

        // Handle donation form submission
        document.addEventListener('DOMContentLoaded', function() {
            const donationForm = document.getElementById('donation-form');
            if (donationForm) {
                donationForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Get form values
                    const name = document.getElementById('donor-name').value;
                    const email = document.getElementById('donor-email').value;
                    const amount = document.getElementById('donation-amount').value;
                    const method = document.getElementById('donation-method').value;
                    
                    if (!name || !email || !amount || !method) {
                        alert('Please fill in all required fields.');
                        return;
                    }
                    
                    // Store payment details
                    currentPaymentDetails = {
                        amount: parseFloat(amount),
                        type: 'donation',
                        purpose: method
                    };
                    
                    // Show payment method selection
                    const useFlutterwave = confirm('Would you like to pay securely with Flutterwave?\n\nClick OK for Flutterwave (MTN/Airtel/Bank)\nClick Cancel for manual payment instructions.');
                    
                    if (useFlutterwave) {
                        // Scroll to Flutterwave payment section
                        document.querySelector('[onclick*="payWithFlutterwave"]')?.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        alert('Please select your preferred payment method above (MTN, Airtel, or Bank Transfer).');
                    } else {
                        // Show manual payment instructions
                        alert('Please use the manual payment methods shown above.\n\nAfter payment, contact us with your transaction reference.');
                    }
                });
            }

            // Handle donation amount buttons
            const donationButtons = document.querySelectorAll('.donation-amount');
            donationButtons.forEach(button => {
                button.addEventListener('click', function() {
                    donationButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    const amount = this.dataset.amount;
                    document.getElementById('donation-amount').value = amount;
                    currentPaymentDetails.amount = parseFloat(amount);
                });
            });
        });
    </script>
</body>
</html>

